<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>自定义 React Native 模块 | GraceHan Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="虽然 React Native 目前已经提供了很多常用的组件，但是在实际项目中，我们总会发现需求往往是这些常用组件所不能够满足的。比如说：图像识别模块、指纹识别模块等。这种模块大部分已经有了比较成熟的SDK，我们此时需要做的就是将已有的轮子，封装到 React Native 中来使用。
经过一些尝试和探索后，我终于找到了一个比较容易上手的封装 React Native 插件方案，希望能得到更多的">
<meta property="og:type" content="article">
<meta property="og:title" content="自定义 React Native 模块">
<meta property="og:url" content="http://hanpanpan200.github.io/2017/07/16/create-custom-native-modules-in-RN/index.html">
<meta property="og:site_name" content="GraceHan Blog">
<meta property="og:description" content="虽然 React Native 目前已经提供了很多常用的组件，但是在实际项目中，我们总会发现需求往往是这些常用组件所不能够满足的。比如说：图像识别模块、指纹识别模块等。这种模块大部分已经有了比较成熟的SDK，我们此时需要做的就是将已有的轮子，封装到 React Native 中来使用。
经过一些尝试和探索后，我终于找到了一个比较容易上手的封装 React Native 插件方案，希望能得到更多的">
<meta property="og:image" content="http://hanpanpan200.github.io/images/create-custom-native-modules-in-RN/landing.jpeg">
<meta property="og:updated_time" content="2020-02-10T14:53:17.237Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="自定义 React Native 模块">
<meta name="twitter:description" content="虽然 React Native 目前已经提供了很多常用的组件，但是在实际项目中，我们总会发现需求往往是这些常用组件所不能够满足的。比如说：图像识别模块、指纹识别模块等。这种模块大部分已经有了比较成熟的SDK，我们此时需要做的就是将已有的轮子，封装到 React Native 中来使用。
经过一些尝试和探索后，我终于找到了一个比较容易上手的封装 React Native 插件方案，希望能得到更多的">
<meta name="twitter:image" content="http://hanpanpan200.github.io/images/create-custom-native-modules-in-RN/landing.jpeg">
  
    <link rel="alternative" href="/atom.xml" title="GraceHan Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="/avatar.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Grace Han</a></h1>
		</hgroup>

		
		<p class="header-subtitle">一花一世界, 一叶一菩提</p>
		

		<div align="center" style="margin-top: 23px;">
			<a href="http://www.blogcounter4free.com" target="_blank">
				<img src="http://www.blogcounter4free.com/counter.php?page=hanpanpan200.github.io/&digits=36&unique=0" alt="blog counter" border="0;">
			</a>
		</div>

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>

				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>主菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/hanpanpan200" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/0513penny" title="weibo">weibo</a>
					        
								<a class="linkedin" target="_blank" href="https://www.linkedin.com/in/grace-han-aa9397114" title="linkedin">linkedin</a>
					        
						</div>
					</nav>
				</section>

				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/2016/" style="font-size: 10px;">2016</a> <a href="/tags/2019/" style="font-size: 10px;">2019</a> <a href="/tags/Dependency/" style="font-size: 10px;">Dependency</a> <a href="/tags/Native-Module-For-React-Native/" style="font-size: 10px;">Native Module For React Native</a> <a href="/tags/NavigatorIOS/" style="font-size: 10px;">NavigatorIOS</a> <a href="/tags/OptionalType/" style="font-size: 10px;">OptionalType</a> <a href="/tags/PushNotification/" style="font-size: 20px;">PushNotification</a> <a href="/tags/Redux/" style="font-size: 10px;">Redux</a> <a href="/tags/SVG/" style="font-size: 10px;">SVG</a> <a href="/tags/Setup/" style="font-size: 10px;">Setup</a> <a href="/tags/Share/" style="font-size: 10px;">Share</a>
					</div>
				</section>
				

				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.penghongwei.cc/">MaxPeng</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://bangwu.github.io/">BangWu</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">我就是我，是颜色不一样的吃货…</div>
				</section>
				
			</div>
		</div>
	</header>
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Grace Han</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="/avatar.jpg" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">Grace Han</h1>
			</hgroup>
			
			<p class="header-subtitle">一花一世界, 一叶一菩提</p>
			
			
			<div align="center" style="margin-top: 23px;">
				<a href="http://www.blogcounter4free.com" target="_blank">
					<img src="http://www.blogcounter4free.com/counter.php?page=hanpanpan200.github.io/&digits=36&unique=0" alt="blog counter" border="0;">
				</a>
			</div>

			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/hanpanpan200" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/0513penny" title="weibo">weibo</a>
			        
						<a class="linkedin" target="_blank" href="https://www.linkedin.com/in/grace-han-aa9397114" title="linkedin">linkedin</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap"><article id="post-create-custom-native-modules-in-RN" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/07/16/create-custom-native-modules-in-RN/" class="article-date">
  	<time datetime="2017-07-16T08:42:17.000Z" itemprop="datePublished">2017-07-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      自定义 React Native 模块
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/ReactNative/">ReactNative</a>
	</div>


        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Native-Module-For-React-Native/">Native Module For React Native</a></li></ul>
	</div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="/images/create-custom-native-modules-in-RN/landing.jpeg" alt="Landing" width="80%"></p>
<p>虽然 React Native 目前已经提供了很多常用的组件，但是在实际项目中，我们总会发现需求往往是这些常用组件所不能够满足的。比如说：图像识别模块、指纹识别模块等。这种模块大部分已经有了比较成熟的SDK，我们此时需要做的就是将已有的轮子，封装到 React Native 中来使用。</p>
<p>经过一些尝试和探索后，我终于找到了一个比较容易上手的封装 React Native 插件方案，希望能得到更多的反馈来改善。</p>
<a id="more"></a>
<h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><p>React Native 支持 iOS， Android 和 Windows 三个平台。本文我们只考虑 iOS 和 Android。</p>
<p>RN 自定义模块的目录结构的基本组成为：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">-android</span><br><span class="line">-ios</span><br><span class="line">-index.js</span><br><span class="line">-package.json</span><br><span class="line">-README.md</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>其中，<br>android：Android平台的原生代码<br>ios：iOS 平台的原生代码<br>index.js：自定义模块的入口（还有一种方式是定义 index.ios.js 和 index.android.js来分别作为对应平台的入口）<br>package.json： 自定义组件的npm包信息<br>README.md：相关文档说明</p>
<h2 id="脚手架"><a href="#脚手架" class="headerlink" title="脚手架"></a>脚手架</h2><p>在清楚了目录结构之后，我们便可以动手写代码了。不过你不必一一手动创建上述的每个文件，现有的脚手架可以帮我们快速搭建起这个架子，随后我们只需要补充进自己的逻辑代码即可。那么下面我们来看看这些脚手架。</p>
<h3 id="react-native-new-library"><a href="#react-native-new-library" class="headerlink" title="react-native new-library"></a>react-native new-library</h3><p>原生 React Native 提供了一个命令：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">react-native <span class="keyword">new</span>-library --name <span class="string">"YourLibName"</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>需要注意的是：如果你在一个非 React Native 项目的目录下执行以上命令，会得到 error</p>
<blockquote>
<p>Command <code>new-library</code> unrecognized. Make sure that you have run <code>npm install</code> and that you are inside a react-native project.</p>
</blockquote>
<p>也就是说，使用原生的 <code>react-native new-library</code> 命令时需要在已有的 React Native 项目中去执行，比如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">react-native init AwesomeProject</span><br><span class="line">cd AwesomeProject</span><br><span class="line">react-native <span class="keyword">new</span>-library --name <span class="string">"YourLibNameA"</span></span><br><span class="line">react-native <span class="keyword">new</span>-library --name <span class="string">"YourLibNameB"</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>上述命令帮我们做了以下两件事情：</p>
<ol>
<li>在 <code>AwesomeProject/ios/</code> 目录下，创建一个 <code>Libraries/</code> 目录。</li>
<li>把我们上面创建的<code>YourLibNameA</code> 和 <code>YourLibNameB</code> 放在 <code>Libraries/</code> 下面。</li>
</ol>
<p>它的优势在于：</p>
<ol>
<li>React Native 官方出品，会随着 React Native 一起升级，较稳定。</li>
</ol>
<p>它的局限在于：</p>
<ol>
<li>需要建立在现有的 RN 项目之上，组件库代码和产品代码混在一起，不利于单独开发、发布和维护。</li>
<li>只生成了一个 iOS 项目的 library，不支持 Android 。</li>
<li>如需 link, 需要手动将相应的依赖添加到 iOS 项目中。</li>
</ol>
<p>下面我们来介绍另外一种方式。</p>
<h3 id="create-react-native-library"><a href="#create-react-native-library" class="headerlink" title="create_react_native_library"></a>create_react_native_library</h3><p>首先需要安装：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">npm install -g react-native-create-library</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>之后，你便可以在任意目录下执行：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">react-native-create-library AwesomeLib</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>上述命令会创建一个独立的工程，文件的目录结构为：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">-android</span><br><span class="line">-ios</span><br><span class="line">-windows</span><br><span class="line">-index.js</span><br><span class="line">-package.json</span><br><span class="line">-README.md</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>当我们不指定 <code>--platforms</code> 参数时，会默认创建包含 <code>android</code>, <code>ios</code> 和 <code>windows</code> 三个平台的工程。</p>
<p><a href="https://github.com/frostney/react-native-create-library" target="_blank" rel="external">create_react_native_library</a> 与 <code>react-native new-library</code> 相比，它的优势在于：</p>
<ol>
<li>不依赖于现有的 RN 项目，作为独立项目进行开发、发布和维护。</li>
<li>兼容 iOS, Android 和 Windows平台，支持通过参数指定 <code>platforms</code> 和一些常用的参数比如： <code>android package id</code> </li>
<li>封装了 <code>react-native link</code> 的逻辑，执行 <code>react-native link</code> 即可完成对应平台的依赖设置。</li>
</ol>
<p>它的局限在于：非官方出品，需关注是否与最新的 React Native 版本兼容。</p>
<p>目前 <code>create_react_native_library</code> 支持最新的<a href="mailto:`react-native@0.51" target="_blank" rel="external">`react-native@0.51</a>`。</p>
<h2 id="调试和测试"><a href="#调试和测试" class="headerlink" title="调试和测试"></a>调试和测试</h2><p>当我们用 create_react_native_library 创建了独立的自定义组件库之后，我们怎样去调试这个新开发的 npm 模块呢？</p>
<p>做法有很多：</p>
<ol>
<li>在 npm 上 publish 一个 beta 版本，然后在项目中反复：安装 npm beta package -&gt; 微调 -&gt; 安装</li>
<li>在本地用相对路径安装，然后反复进行： 安装本地依赖 -&gt; 微调 -&gt; 安装</li>
<li><a href="https://yarnpkg.com/lang/zh-hans/docs/cli/link/" target="_blank" rel="external">yarn-link</a></li>
</ol>
<p>通过 <code>yarn-link</code> 的方式来进行调试最为方便。下面举例说明：</p>
<blockquote>
<p>已有项目 project，需要引用的自定义模块为项目 utility（package name 为 react-native-utility）。<br>目录结构如下：</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">-source</span><br><span class="line">  |-project</span><br><span class="line">  |-utility</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>调试时，需要先创建一个 symlink 链接到本地的 utility ， 然后再在 project 中，使用 link 了的包：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">cd source/utility</span><br><span class="line">yarn link</span><br><span class="line">cd ../project</span><br><span class="line">yarn link react-native-utility</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>注意：</p>
<p><strong>1. Link 与 Unlink</strong></p>
<p>在调试过程中改动了 utility 中的依赖后，常由于 cache 而导致依赖未及时更新而找不到而报错。 此时需要执行以下操作重新 link：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">cd source/utility</span><br><span class="line">yarn unlink</span><br><span class="line">yarn link</span><br><span class="line">cd ../project</span><br><span class="line">yarn unlink react-native-utility</span><br><span class="line">watchman watch-del-all &amp;&amp; rm -rf $TMPDIR/react-* &amp;&amp; rm -rf node_modules/ &amp;&amp; yarn install</span><br><span class="line">yarn link react-native-utility</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>2. react-native link</strong></p>
<p>如自定义组件需要添加 native 项目的依赖，可通过 <code>react-native link react-native-utility</code> 来配置。<br>但是由于 react-native link 执行时需要从 package.json 中读取 dependency, 因此需要先将 react-native-utility 添加到 <code>package.json</code> 的 <code>dependencies</code> 之后再执行 react-native link react-native-utility。<br>又由于通过 <code>yarn link</code> 进行调试时不需要更新 <code>package.json</code>，因此在调试阶段，在执行了 <code>react-native link react-native-utility</code> 之后，再将 package.json 中的更新移除。</p>
<p>在完成了本地的开发和调试之后，我们就可以将这个自定义组件发布到 npm 了。</p>
<h2 id="发布组件到-npm"><a href="#发布组件到-npm" class="headerlink" title="发布组件到 npm"></a>发布组件到 npm</h2><p>发布组件到 npm， 需要进行以下几步：</p>
<ol>
<li>注册 <a href="https://www.npmjs.com/" target="_blank" rel="external">npm</a> 。</li>
<li>在项目目录下，执行 npm adduser， 随后根据提示，输入用户信息。显示 <code>Logged in as YourUserName on https://registry.npmjs.org/</code> 后，即可进行发布。</li>
<li>执行 npm publish ，发布包到 npm 。</li>
</ol>
<p>之后，我们就可以通过包名来安装 npm 依赖了：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">yarn add react-native-utility</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/11/20/pushing-notification-in-RN-iOS/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          基于 react-native-fcm 的消息推送 - iOS（一）
        
      </div>
    </a>
  
  
    <a href="/2017/07/12/icons-in-rn/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Using Icons in React Native</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>


<div class="share_jia">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">Share to: &nbsp; </span>
		<a class="jiathis_button_facebook"></a> 
    <a class="jiathis_button_twitter"></a>
    <a class="jiathis_button_plus"></a> 
    <a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
    <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>




<div class="share_addthis">
  <div class="sharing addthis_toolbox share">
    <a class="addthis_button_facebook_like"></a>
    <a class="addthis_button_tweet"></a>
    <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-560c64c35486b3d4" async="async"></script>
</div>




<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="create-custom-native-modules-in-RN" data-title="自定义 React Native 模块" data-url="http://hanpanpan200.github.io/2017/07/16/create-custom-native-modules-in-RN/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"Grace"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>




</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2020 Grace Han
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>